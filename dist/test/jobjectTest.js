// Generated by CoffeeScript 1.4.0
(function() {
  var Jobject, should,
    __hasProp = {}.hasOwnProperty,
    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

  should = require('should');

  Jobject = require('../');

  describe('Jobject', function() {
    var TestClass, TestClassOverrides, testClass, testClassOverrides;
    TestClass = (function(_super) {

      __extends(TestClass, _super);

      function TestClass() {
        this.property('age', '12');
      }

      return TestClass;

    })(Jobject);
    testClass = new TestClass();
    describe('#validPropertyName()', function() {
      it('should be a valid property name', function() {
        var propName, _i, _len, _ref, _results;
        _ref = ['a', '$', '_', 'a1'];
        _results = [];
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          propName = _ref[_i];
          _results.push(testClass.validPropertyName(propName).should.be["true"]);
        }
        return _results;
      });
      return it('should be an invalid property name', function() {
        var propName, _i, _len, _ref, _results;
        _ref = ['1', '^', '%', '(', ')', 'a&f'];
        _results = [];
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          propName = _ref[_i];
          _results.push(testClass.validPropertyName(propName).should.be["false"]);
        }
        return _results;
      });
    });
    describe('#property()', function() {
      it('should throw error', function() {
        return (function() {
          return testClass.property('%');
        }).should["throw"](/^Invalid property+/);
      });
      it('should have private property', function() {
        return testClass.should.have.property('_age');
      });
      it('should have private property with initial value', function() {
        return testClass.should.have.property('_age', '12');
      });
      it('should have a property', function() {
        return testClass.should.have.property('age');
      });
      it('should have a property with intial value', function() {
        return testClass.should.have.property('age', '12');
      });
      return it('should be able to take a value', function() {
        testClass.age = '13';
        return testClass.age.should.eql('13');
      });
    });
    TestClassOverrides = (function(_super) {

      __extends(TestClassOverrides, _super);

      function TestClassOverrides() {
        this.property('name');
      }

      TestClassOverrides.prototype.name = function() {
        if (this._name === null) {
          this._name = '';
        }
        return this._name + '!';
      };

      TestClassOverrides.prototype.setName = function(name) {
        return this._name = name + '!';
      };

      return TestClassOverrides;

    })(Jobject);
    testClassOverrides = new TestClassOverrides();
    return describe('#property()', function() {
      it('should override property', function() {
        return testClassOverrides.name.should.eql('!');
      });
      return it('should override the setter and the getter', function() {
        testClassOverrides.name = 'Jesse';
        return testClassOverrides.name.should.eql('Jesse!!');
      });
    });
  });

}).call(this);
